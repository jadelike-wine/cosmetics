import{p as x,v as V,d as b,e as I,f as E,g as L,_ as y,a as C,b as T,c as k}from"./image3-j8krUv3q.js";import{_ as p,r as f,e as Y,g,c as r,a as _,w as N,j as w,k as S,T as B,l as $,F as M,m as F,o as i,b as R,p as U,f as j,h as q,i as z}from"./index-Dk0IH9UK.js";const A={class:"video-carousel"},D={class:"video-container"},P=["src"],W={class:"carousel-indicators"},G=["onClick"],H={__name:"VideoCarousel",props:{videos:{type:Array,required:!0},currentIndex:{type:Number,default:0},shouldLoop:{type:Boolean,default:!0}},emits:["change-index"],setup(t,{emit:o}){const e=t,n=o,c=f(null);let d=null;const l=()=>{c.value&&c.value.play().catch(s=>{console.log("自动播放被阻止:",s)})},u=()=>{},v=s=>{n("change-index",s)};Y(()=>e.currentIndex,()=>{l()},{immediate:!0});const a=s=>{d=s.target};return g(()=>{d&&d.pause()}),(s,h)=>(i(),r("div",A,[_("div",D,[w(B,{name:"slide-fade"},{default:S(()=>[t.videos[t.currentIndex]?(i(),r("video",{ref_key:"currentVideoRef",ref:c,key:t.videos[t.currentIndex].src,src:t.videos[t.currentIndex].src,autoplay:"",muted:"",loop:!1,class:"carousel-video",onLoadeddata:a,onEnded:u},null,40,P)):R("",!0)]),_:1})]),N(_("div",W,[(i(!0),r(M,null,F(t.videos,(X,m)=>(i(),r("span",{key:m,class:U({active:m===t.currentIndex}),onClick:Z=>v(m)},null,10,G))),128))],512),[[$,t.videos.length>1]])]))}},J=p(H,[["__scopeId","data-v-ca4a1844"]]),K={class:"container"},O={class:"section"},Q={__name:"vedio",setup(t){const o=[{src:V,poster:x},{src:I,poster:b},{src:L,poster:E}],e=f(0),n=f(!1),c=a=>{n.value||(n.value=!0,a.deltaY>0?e.value=(e.value+1)%o.length:e.value=(e.value-1+o.length)%o.length,setTimeout(()=>{n.value=!1},1e3))};let d=0;const l=a=>{d=a.touches[0].clientY},u=a=>{if(n.value)return;const h=a.changedTouches[0].clientY-d;Math.abs(h)<50||(n.value=!0,h<0?e.value=(e.value+1)%o.length:e.value=(e.value-1+o.length)%o.length,setTimeout(()=>{n.value=!1},1e3))},v=a=>{e.value=a};return j(()=>{window.addEventListener("wheel",c),window.addEventListener("touchstart",l),window.addEventListener("touchend",u)}),g(()=>{window.removeEventListener("wheel",c),window.removeEventListener("touchstart",l),window.removeEventListener("touchend",u)}),(a,s)=>(i(),r("div",K,[s[0]||(s[0]=q('<div class="top_warp" data-v-b57d18cc><div class="left-section" data-v-b57d18cc><img src="'+y+'" alt="Logo" class="top1" data-v-b57d18cc></div><div class="center-section" data-v-b57d18cc><img src="'+z+'" alt="Title" class="top2" data-v-b57d18cc></div><div class="right-section" data-v-b57d18cc><img src="'+C+'" alt="Menu" class="top3" data-v-b57d18cc><img src="'+T+'" alt="Search" class="top3" data-v-b57d18cc><img src="'+k+'" alt="User" class="top3" data-v-b57d18cc></div></div>',1)),_("div",O,[w(J,{videos:o,currentIndex:e.value,onChangeIndex:v,autoPlay:!1},null,8,["currentIndex"])])]))}},ae=p(Q,[["__scopeId","data-v-b57d18cc"]]);export{ae as default};
